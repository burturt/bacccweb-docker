#!/bin/bash

sleep 2

function valid_ip()
{
    local  ip=$1
    local  stat=1

    if [[ $ip =~ ^[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}$ ]]; then
        OIFS=$IFS
        IFS='.'
        ip=($ip)
        IFS=$OIFS
        [[ ${ip[0]} -le 255 && ${ip[1]} -le 255 \
            && ${ip[2]} -le 255 && ${ip[3]} -le 255 ]]
        stat=$?
    fi
    return $stat
}


if [[ $3 == '' ]] ; then
  echo "Invalid input." >&2
  exit 1
fi


echo "traceroute to $3 ($3), 30 hops max, 60 byte packets"
echo ' 1  172.17.0.1 (172.17.0.1)  0.065 ms  0.015 ms  0.012 ms'
echo ' 2  10.0.1.1 (10.0.1.1)  5.486 ms  5.466 ms  5.384 ms'
echo ' 3  10.212.72.120 (10.212.72.120)  9.237 ms  14.921 ms  14.987 ms'
echo ' 4  10.121.39.113 (10.121.39.113)  14.763 ms  14.779 ms  14.750 ms'
echo ' 5  10.53.26.164 (10.53.26.164)  14.467 ms  14.473 ms  14.442 ms'
echo ' 6  10.144.237.125 (10.144.237.125)  15.047 ms  14.161 ms  14.117 ms'
echo ' 7  proxy.us.nsa.gov (10.21.81.43)  14.653 ms  22.125 ms  21.973 ms'
echo ' 8  10.29.99.177 (10.29.99.177)  14.768 ms  15.909 ms *'
echo ' 9  10.165.180.23 (10.165.180.23)  12.308 ms  14.136 ms  18.879 ms'
echo ' 10 10.239.192.240 (10.239.192.240)  18.591 ms  18.583 ms  18.422 ms'
echo ' 11 10.5.40.80 (10.5.40.80)  55.233 ms  55.370 ms  55.255 ms'
echo " 12 $3 ($3)  18.102 ms  17.943 ms  17.706 ms"
